test
Problem
개체가 있고 정확한 복사본을 만들고 싶다고 가정 해 보겠습니다. 어떻게 하시겠습니까? 
먼저 동일한 클래스의 새 개체를 만들어야합니다. 그런 다음 원본 개체의 모든 필드를 살펴보고 해당 값을 새 개체에 복사해야합니다.
Nice! 하지만 문제가 있습니다. 
모든 개체를 이렇게 복사 할 수 있는 것은 아닙니다. 
일부 개체의 필드는 private일 수 있어 외부에서는 접근이 안 될 수 있습니다.
직접적인 접근 방식에는 또 하나의 문제가 있습니다. 복제본을 만들려면 객체의 클래스를 알아야하므로 코드가 해당 클래스에 종속됩니다. 추가 의존성이 당신을 두렵게하지 않는다면 또 다른 문제가 있습니다. 예를 들어 메서드의 매개 변수가 일부 인터페이스를 따르는 모든 개체를 허용하는 경우 개체가 따르는 인터페이스 만 알지만 구체적인 클래스는 알 수 없습니다.


Solution
프로토 타입 패턴은 복제중인 실제 개체에 복제 프로세스를 위임합니다. 패턴은 복제를 지원하는 모든 개체에 대한 공통 인터페이스를 선언합니다. 이 인터페이스를 사용하면 코드를 해당 개체의 클래스에 연결하지 않고도 개체를 복제 할 수 있습니다. 일반적으로 이러한 인터페이스에는 single clone method 만 포함됩니다.

clone method의 구현은 모든 클래스에서 매우 유사합니다. 이 메서드는 현재 클래스의 개체를 만들고 이전 개체의 모든 필드 값을 새 개체로 전달합니다. 대부분의 프로그래밍 언어에서는 개체가 동일한 클래스에 속하는 다른 개체의 개인 필드에 액세스 할 수 있으므로 개인 필드를 복사 할 수도 있습니다.

복제를 지원하는 개체를 prototype 이라고합니다. 개체에 수십 개의 필드와 수백 개의 possible configurations가 있는 경우 이를 복제하는 것이 subclassing의 대안이 될 수 있습니다.

작동 방식은 다음과 같습니다. 다양한 방식으로 구성된 일련의 개체를 만듭니다. 구성한 것과 같은 오브젝트가 필요한 경우 처음부터 새 오브젝트를 구성하는 대신 프로토 타입을 복제하기만 하면 됩니다.



1. Prototype 인터페이스는 복제 방법을 선언합니다. 대부분의 경우 단일 복제 방법입니다.

2. Concrete Prototype 클래스는 복제 방법을 구현합니다. 원본 객체의 데이터를 복제하는 것 외에도 연결된 객체 복제, 재귀 종속성 풀기 등과 관련된 복제 프로세스의 일부 극단적인 경우를 처리할 수도 있습니다.

3. Client는 프로토타입 인터페이스를 따르는 모든 객체의 복사본을 생성할 수 있습니다.



언제 사용?
코드가 복사해야 하는 객체의 구체적인 클래스에 의존하지 않아야 하는 경우 Prototype pattern을 사용합니다.

이는 코드가 일부 인터페이스를 통해 타사 코드에서 전달 된 객체와 함께 작동 할 때 많이 발생합니다. 이러한 개체의 구체적인 클래스는 알려지지 않았으며 원하는 경우에도 의존 할 수 없습니다.

Prototype pattern은 복제를 지원하는 모든 개체에 대한 작업을 위한 일반 인터페이스를 클라이언트 코드에 제공합니다. 이 인터페이스는 클라이언트 코드를 복제하는 개체의 구체적인 클래스와 독립적으로 만듭니다.

